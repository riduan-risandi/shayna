{"remainingRequest":"D:\\Development\\sandi-store\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Development\\sandi-store\\shayna new\\src\\views\\ShoppingCart.vue?vue&type=style&index=0&id=0a4f6c3c&scoped=true&lang=css&","dependencies":[{"path":"D:\\Development\\sandi-store\\shayna new\\src\\views\\ShoppingCart.vue","mtime":1672106079531},{"path":"D:\\Development\\sandi-store\\node_modules\\css-loader\\dist\\cjs.js","mtime":1671161102032},{"path":"D:\\Development\\sandi-store\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1671161062882},{"path":"D:\\Development\\sandi-store\\node_modules\\postcss-loader\\src\\index.js","mtime":1671161076424},{"path":"D:\\Development\\sandi-store\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671161106871},{"path":"D:\\Development\\sandi-store\\node_modules\\vue-loader\\lib\\index.js","mtime":1671161059937}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmltZy1jYXJ0ewogICAgd2lkdGg6IDEwMHB4OwogICAgaGVpZ2h0OiAxMDBweDs7Cn0gIAo="},{"version":3,"sources":["ShoppingCart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6XA;AACA;AACA;AACA","file":"ShoppingCart.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"shopping\">\r\n   <!--  <img alt=\"Vue logo\" src=\"../assets/logo.png\">\r\n    <HelloWorld msg=\"Welcome to Your Vue.js App\"/> -->\r\n    \r\n    <HeaderShayna />  \r\n    <!-- Breadcrumb Section Begin -->\r\n    <div class=\"breacrumb-section text-left\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-12\">\r\n                    <div class=\"breadcrumb-text product-more\">\r\n                        <router-link to=\"/\"><i class=\"fa fa-home\"></i> Home</router-link>\r\n                        <span>Shopping Cart</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- Breadcrumb Section Begin -->\r\n\r\n     <!-- Shopping Cart Section Begin -->\r\n    <section class=\"shopping-cart spad\">\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-8\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12\">\r\n                            <div class=\"cart-table\">\r\n                                <table>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>Image</th>\r\n                                            <th class=\"p-name text-center\">Product Name</th>\r\n                                            <th>Price</th>\r\n                                            <th>Action</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr  v-for=\"keranjang in keranjangUser\" :key=\"keranjang.id\">\r\n                                            <td class=\"cart-pic first-row\">\r\n                                                <img class=\"img-cart\" :src=\"keranjang.photo\" />\r\n                                            </td>\r\n                                            <td class=\"cart-title first-row text-center\">\r\n                                                <h5>{{keranjang.name}}</h5>\r\n                                            </td>\r\n                                            <td class=\"p-price first-row\"><small>Rp</small>{{keranjang.price}}</td>\r\n                                            <td @click=\"removeItem(keranjang.id)\" class=\"delete-item\">\r\n                                                <a href=\"#\">\r\n                                                    <i class=\"material-icons\">close</i>\r\n                                                </a>\r\n                                            </td>\r\n                                        </tr> \r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-lg-8\">\r\n                            <h4 class=\"mb-4 text-left\">\r\n                                Informasi Pembeli:\r\n                            </h4>\r\n                            <div class=\"user-checkout text-left\" >\r\n                                <form>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"namaLengkap\">Nama lengkap</label>\r\n                                        <input type=\"text\" class=\"form-control\" id=\"namaLengkap\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Nama\" v-model=\"customerInfo.name\">\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"namaLengkap\">Email Address</label>\r\n                                        <input type=\"email\" class=\"form-control\" id=\"emailAddress\" aria-describedby=\"emailHelp\" placeholder=\"Masukan Email\" v-model=\"customerInfo.email\">\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"namaLengkap\">No. HP</label>\r\n                                        <input type=\"text\" class=\"form-control\" id=\"noHP\" aria-describedby=\"noHPHelp\" placeholder=\"Masukan No. HP\" v-model=\"customerInfo.number\">\r\n                                    </div>\r\n                                    \r\n                                        <!-- <select id=\"provinces\"> -->\r\n                                        <!-- <select   class=\"form-control\" id=\"provinces\" @change=\"onChange($event)\">\r\n                                            <option>-- Pilih Provinsi -- </option>\r\n                                            <option  v-for=\"province in provinces\" :key=\"province.id\">{{province}}</option> \r\n                                        </select>  -->\r\n\r\n                                        <!-- <select  id=\"provinces\">\r\n                                            <option v-for=\"person in provinces\" v-bind:value=\"key\">\r\n                                            {{ person.name }}\r\n                                            </option>\r\n                                        </select> -->\r\n\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"provinsi\">Provinsi</label> \r\n                                        <select   class=\"form-control\" id=\"provinces\" @change=\"changeProvince($event)\">\r\n                                            <option>-- Pilih Provinsi -- </option>\r\n                                            \r\n                                            <option  v-for=\"province in provinces\" :key=\"province.province_id\" :value=\"province.province_id\">{{province.title}}</option> \r\n                                        </select> \r\n\r\n                                    </div> \r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"kota\">Kota</label>  \r\n                                        <select   class=\"form-control\" id=\"cities\"  v-model=\"cities_id\">\r\n                                            <option>-- Pilih Kota -- </option>\r\n                                            <option  v-for=\"city in cities\" :key=\"city.city_id\" :value=\"city.city_id\">{{city.title}}</option> \r\n                                        </select> \r\n \r\n                                    </div> \r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"kurir\">Kurir</label>  \r\n                                        <select   class=\"form-control\" id=\"couriers\" @change=\"changeCourier($event)\">\r\n                                            <option>-- Pilih Kurir -- </option>\r\n                                            <option  v-for=\"courier in couriers\" :key=\"courier.code\" :value=\"courier.code\">{{courier.title}}</option> \r\n                                        </select> \r\n \r\n                                    </div> \r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"kurir\">Ongkos Kirim</label>  \r\n                                        <select   class=\"form-control\" id=\"ongkirs\">\r\n                                            <option>-- Silahkan Pilih -- </option>\r\n                                            <option  v-for=\"ongkir in ongkirs\" :key=\"ongkir.cost\" :value=\"ongkir.cost\">{{ongkir.fullname}}</option> \r\n                                        </select> \r\n \r\n                                    </div> \r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"alamatLengkap\">Alamat Lengkap</label>\r\n                                        <textarea class=\"form-control\" id=\"alamatLengkap\" rows=\"3\" v-model=\"customerInfo.address\"></textarea>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-4\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12\">\r\n                            <div class=\"proceed-checkout text-left\">\r\n                                <ul>\r\n                                    <li class=\"subtotal\">ID Transaction <span>#SH12000</span></li>\r\n                                    <li class=\"subtotal mt-3\">Subtotal <span><small>Rp</small>{{totalHarga}}</span></li>\r\n                                    <li class=\"subtotal mt-3\">Pajak <span>10% {{ditambahPajak}}</span></li>\r\n                                    <li class=\"subtotal mt-3\">Total Biaya <span><small>Rp</small>{{totalBiaya}}</span></li>\r\n                                    <li class=\"subtotal mt-3\">Bank Transfer <span>Mandiri</span></li>\r\n                                    <li class=\"subtotal mt-3\">No. Rekening <span>2208 1996 1403</span></li>\r\n                                    <li class=\"subtotal mt-3\">Nama Penerima <span>Shayna</span></li>\r\n                                </ul>\r\n                                <!-- <router-link to=\"/success\"> -->\r\n                                    <a @click=\"checkout()\" href=\"#\" class=\"proceed-btn\">I ALREADY PAID</a>\r\n                                <!-- </router-link> -->\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n    <!-- Shopping Cart Section End -->  \r\n\r\n  </div>\r\n</template> \r\n\r\n<script> \r\n\r\nimport HeaderShayna from '@/components/HeaderShayna.vue';  \r\nimport axios from \"axios\";\r\n\r\n export default {\r\n    name: \"cart\",\r\n    components: \r\n    {\r\n        HeaderShayna  \r\n    },\r\n    data() \r\n    {\r\n        return{ \r\n            keranjangUser: [],\r\n            /* keranjangUserTest: [], */\r\n            customerInfo:{\r\n                name:'',\r\n                email:'',\r\n                number:'',\r\n                address:''\r\n            },\r\n            // provinces:{ \r\n            // }, \r\n            provinces: [],\r\n            cities: [],\r\n            couriers: [],\r\n            ongkirs: [],\r\n            cities_id:null,\r\n            // provinceAll: [],\r\n            // cities:{}\r\n        }\r\n\r\n    },\r\n    methods:{\r\n        // removeItem(index){\r\n        //     this.keranjangUser.splice(index,1);\r\n        //     const parsed = JSON.stringify(this.keranjangUser);\r\n        //     localStorage.setItem('keranjangUser',parsed);\r\n        // },\r\n\r\n       /*  setDataPicture(data){\r\n            console.log(\"TEST\");\r\n            console.log(data);\r\n            // replace object productDetails dengan data dari API\r\n            this.keranjangUserTest = data;\r\n            // replace value gambardefault dengan data dari API(galleries)\r\n            // this.gambar_default = data.galleries[0].photo;\r\n\r\n\r\n        }, */\r\n        setDataProvinces(data)\r\n        {\r\n            // replace object provinceAll dengan data dari API\r\n            this.provinces = data; \r\n            // console.log(data) \r\n        },\r\n        setDataCities(data)\r\n        {\r\n            // console.log(data);\r\n            // replace object provinceAll dengan data dari API\r\n            this.cities = data;   \r\n        },\r\n        setDataCouriers(data)\r\n        {\r\n            // replace object provinceAll dengan data dari API\r\n            this.couriers = data;   \r\n        },\r\n        setDataOngkir(data)\r\n        {\r\n            // console.log(\"masuk\");\r\n            // console.log(data);\r\n            // replace object ongkir dengan data dari API\r\n            this.ongkirs = data;   \r\n        },\r\n\r\n        removeItem(idx)\r\n        {\r\n             \r\n            // cari tau id dari si item yang akan dihapus\r\n            let keranjangUserStorage = JSON.parse(localStorage.getItem(\"keranjangUser\"));\r\n            let itemKeranjangUserStorage = keranjangUserStorage.map(itemKeranjangUserStorage => itemKeranjangUserStorage.id);\r\n\r\n            //cocokkan id item dengan id yg di storage\r\n            let index = itemKeranjangUserStorage.findIndex(id => id == idx);\r\n            this.keranjangUser.splice(index,1);\r\n\r\n            const parsed = JSON.stringify(this.keranjangUser);\r\n            localStorage.setItem('keranjangUser',parsed);\r\n\r\n            window.location.reload(); \r\n        },\r\n        checkout()\r\n        {\r\n            let productIds = this.keranjangUser.map(function(product){\r\n                return product.id\r\n            });\r\n\r\n            let checkoutData={\r\n                'name' : this.customerInfo.name,\r\n                'email' : this.customerInfo.email,\r\n                'number' : this.customerInfo.number,\r\n                'address' : this.customerInfo.address,\r\n                'transaction_total' : this.totalBiaya,\r\n                'transaction_status' : \"PENDING\",\r\n                'transaction_detail' : productIds\r\n            };\r\n\r\n            axios\r\n                .post(\r\n                    \"http://127.0.0.1:8000/api/checkout\",checkoutData\r\n                )\r\n                .then(() => this.$router.push(\"success\"))\r\n                //eslint-disable-next-line no-console\r\n                .catch(err => console.log(err));\r\n        },\r\n        changeProvince(event)\r\n        {\r\n            // console.log(\"masuk\")\r\n            // console.log(event.target.value);\r\n            \r\n            axios\r\n            .get(\"http://127.0.0.1:8000/api/cities\",{\r\n                params:{\r\n                    id:event.target.value\r\n                }\r\n            })\r\n            // .then(res=>(this.provinces = res.data.data)) \r\n            // .then(res=>(console.log(res.data.data)))\r\n            .then(res=>(this.setDataCities(res.data.data)))\r\n            .catch(err=>console.log(err)); \r\n\r\n        },\r\n        changeCourier(event)\r\n        {\r\n            var self = this;  \r\n            axios\r\n            .get(\"http://127.0.0.1:8000/api/cek_ongkir\",{\r\n                params:{\r\n                    courier:event.target.value,\r\n                    city_destination:self.cities_id,\r\n                }\r\n            }) \r\n            // .then(res=>(console.log(res.data.data)))\r\n            .then(res=>(this.setDataOngkir(res.data.data)))\r\n            .catch(err=>console.log(err)); \r\n\r\n        }\r\n\r\n    },\r\n    mounted(){\r\n        if (localStorage.getItem('keranjangUser')){\r\n            try{\r\n                this.keranjangUser= JSON.parse(localStorage.getItem('keranjangUser'));\r\n            } catch(e){\r\n                localStorage.removeItem('keranjangUser');\r\n            }\r\n        }\r\n\r\n        axios\r\n            .get(\"http://127.0.0.1:8000/api/provinces\",{\r\n                // params:{\r\n                //     id:this.$route.params.id\r\n                // }\r\n            })\r\n            // .then(res=>(this.provinces = res.data.data)) \r\n            // .then(res=>(console.log(res.data.data)))\r\n            .then(res=>(this.setDataProvinces(res.data.data)))\r\n            .catch(err=>console.log(err));\r\n            \r\n        axios\r\n            .get(\"http://127.0.0.1:8000/api/couriers\",{\r\n                 \r\n            })\r\n            // .then(res=>(this.provinces = res.data.data)) \r\n            // .then(res=>(console.log(res.data.data)))\r\n            .then(res=>(this.setDataCouriers(res.data.data)))\r\n            .catch(err=>console.log(err));\r\n\r\n        axios\r\n            .get(\"http://127.0.0.1:8000/api/cek_ongkir\",{\r\n                 \r\n            })\r\n            // .then(res=>(this.provinces = res.data.data)) \r\n            // .then(res=>(console.log(res.data.data)))\r\n            .then(res=>(this.setDataCouriers(res.data.data)))\r\n            .catch(err=>console.log(err));\r\n\r\n       /*  axios\r\n            .get(\"http://127.0.0.1:8000/api/cart\",{\r\n                params:{\r\n                    id:this.$route.params.id\r\n                }\r\n            })\r\n            // .then(res=>(this.keranjangUser = res.data.data))\r\n            .then(res=>(this.setDataPicture(res.data.data)))\r\n            // .then(res=>(console.log(\"test1\")))\r\n            .catch(err=>console.log(err)); */\r\n            \r\n    },\r\n     computed:\r\n    {\r\n        totalHarga()\r\n        {\r\n            return this.keranjangUser.reduce(function(items,data){\r\n                // alert(data.price);\r\n                // console.log(data.price)\r\n                return items + data.price;\r\n            },0);\r\n        },\r\n        ditambahPajak()\r\n        {\r\n            return (this.totalHarga * 10) /100;\r\n        },\r\n        totalBiaya()\r\n        {\r\n            return this.totalHarga + this.ditambahPajak \r\n        }\r\n    }\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n    .img-cart{\r\n        width: 100px;\r\n        height: 100px;;\r\n    }  \r\n</style>"]}]}